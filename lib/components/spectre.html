<body>

    <template id="Toast">
        <div ui:if={!closed}
             class="toast toast-primary"
             style="position:fixed; right:5rem; bottom:1rem; width: 20rem;">
            <button class="btn btn-clear float-right"
                    click="->"
                    data-closed="true"></button>
            <p>{message}</p>
        </div>
    </template>

    <template id="Button">
        <button class="btn btn-{mode} {class}"
                data={data}
                click={action}>
            <i ui:if="icon" class="icon icon-{icon} loading:{loading}"></i>
            <span ui:if="title">{title}</span>
        </button>
    </template>

    <template id="BigRedButton">
        <button class="btn tooltip tooltip-left fixed bg-error circle"
                style="right:1rem; bottom:1rem; width: 2rem; height: 2rem;"
                data={data}
                data-tooltip={tooltip}
                click={action}>
            <i class="icon icon-plus"></i>
        </button>
    </template>

    <template id="Avatar">
        <figure class="avatar avatar- bg-primary" data-initial={initial}>
            <Img src={image} class="img-responsive" />
        </figure>
    </template>

    <template id="Hero">
        <div class="hero bg-dark p-0">
            <div class="hero-body px-2">
                <h1>{title}</h1>
            </div>
        </div>
    </template>

    <template id="Dropdown">
        <div class="dropdown">
            <a href="#" class="btn btn-link dropdown-toggle" tabindex="0">
                {name}<i class="icon icon-caret"></i>
            </a>
            <!-- menu component -->
            <ul class="menu" style="right:0;left:auto;">
                <li ui:for="item of data" class="menu-item active:{item.id}=={value}" data-id={item.id}
                    data-name={item.name} click={onChanged}>
                    <a>{item.name}</a>
                </li>
            </ul>
        </div>
    </template>

    <template id="Select">
        <select class="form-select"
                change={change}>
            <option selected={selected}
                    value=""
                    ui:if={!required}>...</option>
            <option ui:for="option of options"
                    selected={selected}
                    value={option.id}>{option.name}</option>
        </select>
    </template>

    <template id="SearchBar">
        <div class="form-autocomplete">
            <!-- autocomplete input container -->
            <div class="form-autocomplete-input form-input input-sm has-icon-right">
                <div class="input-group input-inline">
                    <input class="form-input" type="search"
                           placeholder=":kluq_poshuku"
                           keypress={input}
                           value={value} />
                </div>
                <i class="form-icon icon icon-cross c-hand" data-value=""
                   click={enter}
                   ui:if={value}></i>
            </div>
            <ul class="menu" ui:if={suggestions}>
                <li class="menu-item" ui:for="item of suggestions" data-value={item.id} click={enter}>
                    <a>
                        <div class="tile tile-centered">
                            <div class="tile-icon">
                            </div>
                            <div class="tile-content">
                                {item.name}
                            </div>
                        </div>
                    </a>
                </li>
            </ul>
        </div>
    </template>

    <template id="NavTree">
        <ul class="nav">
            <li class="nav-item {item.class}" ui:for="item of data">
                <a href="#{item.id}">
                    <span>{item.name}</span>
                    <span ui:if={item.label} class="label label-error">{item.label}</span>
                </a>
                <NavTree ui:if={item.subs} data={item.subs} />
            </li>
        </ul>
    </template>

    <template id="Box">
        <div class="container bg-gray">
            <div class="columns">
                <div class="column col-6 col-sm-12">
                    <ui:slot id="1" />
                </div>
                <div class="column col-6 col-sm-12 my-2">
                    <ui:slot id="2" />
                </div>
            </div>
        </div>
    </template>

    <template id="Panel">
        <div class="panel" style={style}>
            <div class="panel-header">
                <div class="panel-title">
                    <ui:slot id="title" />
                </div>
            </div>
            <div class="panel-nav" ui:if="slot(nav)">
                <ui:slot id="nav" />
            </div>
            <div class="panel-body">
                <ui:slot />
            </div>
            <div class="panel-footer" ui:if="slot(footer)">
                <ui:slot id="footer" />
            </div>
        </div>
    </template>

    <template id="Card">
        <div class="card" style={style}>
            <div class="card-image" ui:if={image}>
                <img src={image} class="img-responsive" />
            </div>
            <div class="card-header">
                <a ui:if={title} href={link}>
                    <h5 class="card-title">{title}</h5>
                </a>
                <div ui:if={subtitle} class="card-subtitle text-gray">{subtitle}</div>
                <ui:slot id="header" />
            </div>
            <div class="card-body">
                <ui:slot />
            </div>
            <div class="card-footer">
                <ui:slot id="footer" />
            </div>
        </div>
    </template>

    <template id="Sidebar">
        <div class="off-canvas off-canvas-sidebar-show">
            <a class="off-canvas-toggle btn btn-primary btn-action show-lg bg-red"
               href="#sidebar">
                <i class="icon icon-menu" />
            </a>
            <div id="sidebar" class="off-canvas-sidebar" ui:if="slot(aside)">
                <div class="fixed">
                    <ui:slot id="aside" />
                </div>
            </div>
            <a class="off-canvas-overlay" href="#"></a>
            <div class="off-canvas-content">
                <ui:slot />
            </div>
        </div>
    </template>

    <template id="Navbar">
        <header class="navbar bg-dark" style="min-height:48px">
            <section class="navbar-section mx-2">
                <ui:slot />
            </section>
            <section class="navbar-center" ui:if={logo}>
                <img src={logo} alt="" height="40" width="40" />
            </section>
            <section class="navbar-section mx-2">
                <ui:slot id="right" />
            </section>
        </header>
    </template>

    <template id="Chips">
        <div class="sticky bg-gray py-2" style="z-index: 2;">
            <div class="ui mini labels">
                <span class="chip c-hand bg-success:{tag.selected} bg-secondary:{tag.selected|not} badge:{tag.selected|not}"
                      data-badge={tag.count|ifAbove:3}
                      data-id={tag.id}
                      click={click}
                      ui:for="tag of data">
                    <span>{tag.name}<small ui:if={tag.selected2}>{tag.count}</small></span>
                </span>
                <span ui:if="reset" class="chip c-hand bg-gray" click={reset}>
                    <span>x</span>
                </span>
            </div>
        </div>
    </template>

    <template id="Tabs">
        <ul class="tab tab-block">
            <li class="tab-item  c-hand" ui:for="item of data">
                <a href="#tab?tab={item.value}">{item.name}</a>
            </li>
        </ul>
    </template>

    <template id="Tree">
        <div class="ui list tree">
            <div ui:for="item of data" click={update} class="item {itemClass}" data-value={item.id}>
                <i class="icon folder"></i>
                <div class="content">
                    <li click={update} data-value={id}>
                        <div class="header">{name}</div>
                        <div class="description">{dname}</div>
                    </li>
                    <Tree ui:if={item.children} data={item.children} />
                </div>
            </div>
        </div>
    </template>

    <template id="Breadcrumbs">
        <ul class="breadcrumb">
            <li class="breadcrumb-item" ui:for="step in path">
                <a href="#module/{step.id}">{step.name}</a>
            </li>
            <li class="breadcrumb-item" ui:if={modes.length}>
                <div class="dropdown">
                    <a class="btn btn-link dropdown-toggle" tabindex="0">{current.name}<i
                           class="icon icon-caret"></i></a>
                    <ul class="menu">
                        <li class="menu-item" ui:for="li in modes">
                            <a href="#module/{step.id}/mode/{li.id}">{li.name}</a>
                        </li>
                    </ul>
                </div>
            </li>
        </ul>
    </template>

    <template id="Modal">
        <div class="modal modal active:{open}">
            <a class="modal-overlay" aria-label="Close" click={close}></a>
            <div class="modal-container">
                <div class="modal-header">
                    <a class="btn btn-clear float-right" aria-label=":close" click={close}></a>
                    <div class="modal-title h5" ui:if={title}>{title}</div>
                    <ui:slot id="header" />
                </div>
                <div class="modal-body" style="max-height: 70vh;">
                    <div class="content">
                        <ui:slot />
                    </div>
                </div>
                <div class="modal-footer">
                    <ui:slot id="footer" />
                </div>
            </div>
        </div>
    </template>
</body>