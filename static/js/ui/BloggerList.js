// Generated by CoffeeScript 1.8.0
(function() {
  Object.entity.define({
    id: "ui.BloggerList extends List",
    itemTemplate: "<div class=\"media panel-body\">\n    <span class=\"pull-left\"><a target=\"_blank\" href=\"{{url}}\"><img class=\"img-rounded media-object\" width=\"32\" src=\"{{icon}}\"></a></span>\n    <div class=\"media-body\">\n        <h5 class=\"media-header\">{{name}} <a target=\"_blank\" href=\"{{url}}\">далее&nbsp;→</a></h5>\n    </div>\n</div>",
    itemStyle: "panel panel-default",
    domNodeType: "ul",
    style: "media-list",
    css: "list-style: none;",
    methods: function(_super) {
      return {
        dataAsyncAdapter: function(err, data) {
          var items, v, _i, _len;
          this.domNode.innerHTML = "";
          items = Object.prop(data, "items") || [];
          for (_i = 0, _len = items.length; _i < _len; _i++) {
            v = items[_i];
            v.name = Object.prop(v, "title");
            v.icon = (Object.prop(v, "author.image.url") || "").replace("http://img2.blogblog.com/img/b16-rounded.gif", "") || "/res/logo120.png";
            v.author = Object.prop(v, "author.displayName");
            v.labels = (v.labels && v.labels.length ? ' <span class="label label-info">' + v.labels.join('</span> <span class="label label-info">') + "</span>" : "");
          }
          return items;
        },
        childrenItemAdapter: function(datum, i) {
          return {
            id: "Html",
            html: String.template(this.itemTemplate, datum)
          };
        }
      };
    }
  });

}).call(this);
